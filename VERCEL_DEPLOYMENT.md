# Professional Vercel Deployment Guide - Heni Barbershop

This guide is specifically updated for your deployment at **[henibarbershopp.vercel.app](https://henibarbershopp.vercel.app)**.

## 1. Unified Deployment Strategy
We are using a **Monorepo** approach. A single Vercel project will host both your **Frontend (Vite)** and **Backend (Node.js/Express)**.

### Configuration Files Added:
- `vercel.json`: This file in the root tells Vercel how to route traffic:
  - `Any URL starting with /api` -> Sent to `server/server.js`.
  - `Everything else` -> Sent to your React/Vite app.

## 2. Important: The Database (SQLite)
⚠️ **CRITICAL WARNING**: SQLite is a file-based database. Vercel's serverless functions are **read-only and ephemeral**.
- **Current Issue**: If you deploy as-is, you might see the data, but you **won't be able to save new appointments or register users** permanently.
- **Solution**: You should connect your app to a managed database. 
  - **Quickest Fix**: Use [Turso](https://turso.tech/) (SQLite in the cloud).
  - **Alternative**: Use [Vercel Postgres](https://vercel.com/docs/storage/vercel-postgres).

## 3. Step-by-Step Vercel Setup

1. **GitHub Sync**:
   - Ensure you have pushed the latest code (including `vercel.json` and the updated `src/utils/api.js`).
   - `git add .`
   - `git commit -m "Update for Vercel deployment"`
   - `git push origin main`

2. **Vercel Project Settings**:
   - Go to your project on Vercel: **henibarbershopp**.
   - Go to **Settings** -> **Environment Variables**.
   - Add the following variable:
     - **Key**: `VITE_API_URL`
     - **Value**: `/api` (This tells the frontend to look for the API on the same domain).
     - **Important**: Make sure `NODE_ENV` is NOT manually set to production if you're deploying, but normally Vercel handles this.

3. **Build & Development Settings**:
   - **Framework Preset**: Vite.
   - **Root Directory**: `./` (The root of the repo).
   - **Build Command**: `npm run build`.
   - **Output Directory**: `dist`.

4. **Deploy**:
   - Go to the **Deployments** tab and click **"Redeploy"** on the latest commit.

## 4. Local Testing
To continue working locally, use your usual commands:
- **Server**: `cd server && npm run dev`
- **Frontend**: `npm run dev`

If the server fails to start with `EADDRINUSE`, run:
`taskkill /F /IM node.exe`

---
Generated by Antigravity AI for Heni Barbershop
