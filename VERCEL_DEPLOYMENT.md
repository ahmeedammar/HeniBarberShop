# How to Deploy BA7 Barbershop to Vercel

This guide will walk you through the steps to deploy both the Frontend (React/Vite) and the Backend (Node.js/Express) to Vercel.

## 1. Prerequisites
- A GitHub, GitLab, or Bitbucket account.
- A [Vercel](https://vercel.com/) account.
- The project pushed to a repository.

## 2. Frontend Deployment (React + Vite)
Vercel automatically detects Vite projects.

1. Go to the Vercel Dashboard and click **"Add New"** -> **"Project"**.
2. Import your repository.
3. **Framework Preset**: Should be automatically set to `Vite`.
4. **Root Directory**: Select the root folder where `package.json` is located.
5. **Environment Variables**:
   - Add `VITE_API_URL`: Your deployed backend URL (e.g., `https://ba7-api.vercel.app/api`).
6. Click **"Deploy"**.

## 3. Backend Deployment (Node.js + Express)
Since your backend uses `better-sqlite3`, please note that Vercel is **serverless**. This means the SQLite database will be **read-only** or **reset** on every request if stored as a file.

### Recommended Backend Approach for VERCEL:
To keep using SQLite on Vercel, you should migrate to a persistent database like **PostgreSQL** (Vercel has a free tier) or use an external SQLite service like **Turso**.

**If you stick with Vercel for the current code:**
1. Create a `vercel.json` in the `server/` directory:
```json
{
  "version": 2,
  "builds": [
    { "src": "server.js", "use": "@vercel/node" }
  ],
  "routes": [
    { "src": "/(.*)", "dest": "server.js" }
  ]
}
```
2. Update `server.js` to export the app instead of just listening (or use a wrapper).
3. Push the `server/` folder to Vercel as a separate project.

## 4. Connecting Frontend and Backend
Once your backend is live (e.g., `https://ba7-api.vercel.app`):
1. Go to your Frontend project settings on Vercel.
2. Update the `VITE_API_URL` environment variable to `https://ba7-api.vercel.app/api`.
3. Redeploy the frontend.

## 5. Local Setup Warning
Ensure you kill any existing processes on port 3001 before starting the app locally:
```powershell
taskkill /F /IM node.exe
```

---
Generated by Antigravity AI
